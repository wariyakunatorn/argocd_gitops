argo-cd:
  # configs:
  #   params:
  #     server.basehref: /argocd
  server:
    extraArgs:
      - --insecure
    ingress:
      enabled: true
      ingressClassName: nginx
      #annotations:
      #   nginx.ingress.kubernetes.io/rewrite-target: /$2
      hosts:
        - argocd.127-0-0-1.nip.io
      paths:
        - /
    metrics: &metrics
      enabled: true
      serviceMonitor:
        enabled: false
    volumeMounts:
      - name: custom-ca-certificates
        mountPath: /etc/ssl/certs/custom-ca-certificates.crt
        subPath: custom-ca-certificates.crt
    volumes:
      - name: custom-ca-certificates
        secret:
          defaultMode: 420
          secretName: custom-ca-certificates
  dex:
    enabled: false
  controller:
    metrics: *metrics
    volumeMounts:
      - name: custom-ca-certificates
        mountPath: /etc/ssl/certs/custom-ca-certificates.crt
        subPath: custom-ca-certificates.crt
    volumes:
      - name: custom-ca-certificates
        secret:
          defaultMode: 420
          secretName: custom-ca-certificates
  repoServer:
    metrics: *metrics
    volumeMounts:
      - name: custom-ca-certificates
        mountPath: /etc/ssl/certs/custom-ca-certificates.crt
        subPath: custom-ca-certificates.crt
    volumes:
      - name: custom-ca-certificates
        secret:
          defaultMode: 420
          secretName: custom-ca-certificates
  redis:
    metrics: *metrics
